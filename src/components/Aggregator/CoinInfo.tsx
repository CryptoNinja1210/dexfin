'use client'
import axios from "axios"
import { useEffect, useState, useContext } from "react"
// import Link from "next/link"
import { HistoricalChart } from "~/utils/apis"
import { Line } from "react-chartjs-2"
import { Container } from "react-bootstrap"
import { chartDays } from "~/utils/data"
import { Crypto } from "~/utils/Crypto"
import {CategoryScale} from 'chart.js'
import Chart from 'chart.js/auto'
import Highcharts from 'highcharts'
import HighchartsReact from 'highcharts-react-official';
import highchartsTheme from 'highcharts/themes/dark-unica';

const CoinInfo = (props: { chain: any }) => {
  highchartsTheme(Highcharts);
  const { currency } : { currency : string } = useContext(Crypto);
  const [historicData, setHistoricData] = useState<[any]>([{}]);
  const [days, setDays] = useState(1);
  const [flag,setflag] = useState(false);
  // const id = props.chain
  Chart.register(CategoryScale);

  const fetchHistoricData = async () => {
    const { data } = await axios.get(HistoricalChart(props.chain, days, currency));
    setflag(true);
    setHistoricData(data.prices);
  };
  const chartOptions = {
    rangeSelector: {
      selected: 1
    },
    title: {
      text: 'Stock Price Data'
    },
    series: [{
      name: 'Stock Price',
      data: [
        [
          1703966400000,
          2310.0862238976,
          2310.0862238976,
          2302.6925689717,
          2302.6925689717
        ],
        [
          1703980800000,
          2297.2422340204,
          2301.4033596792,
          2288.1567942479,
          2288.1567942479
        ],
        [
          1703995200000,
          2292.427935606,
          2300.7761402787,
          2284.2130952371,
          2284.2130952371
        ],
        [
          1704009600000,
          2283.0403036345,
          2285.0688417325,
          2281.4546162956,
          2285.0688417325
        ],
        [
          1704024000000,
          2296.0632676588,
          2312.1797011381,
          2295.45613299,
          2309.2560940585
        ],
        [
          1704038400000,
          2310.1614312849,
          2311.8183045262,
          2302.2273136697,
          2302.2273136697
        ],
        [
          1704052800000,
          2298.8626878157,
          2304.9783431099,
          2298.8461358368,
          2302.5564144377
        ],
        [
          1704067200000,
          2295.3475705602,
          2295.3475705602,
          2277.8991370788,
          2277.8991370788
        ],
        [
          1704081600000,
          2281.6742859296,
          2299.9309254437,
          2281.6742859296,
          2293.8582531199
        ],
        [
          1704096000000,
          2273.4294474509,
          2282.1901781477,
          2273.4294474509,
          2282.1901781477
        ],
        [
          1704110400000,
          2284.563643947,
          2300.9900142458,
          2283.9821727463,
          2300.9900142458
        ],
        [
          1704124800000,
          2303.70236131,
          2305.7658702371,
          2300.1892053192,
          2300.5543804519
        ],
        [
          1704139200000,
          2315.0661927227,
          2326.1705132716,
          2309.0158635812,
          2326.1705132716
        ],
        [
          1704153600000,
          2337.074231748,
          2338.8690261483,
          2331.6506733529,
          2331.6506733529
        ],
        [
          1704168000000,
          2350.0262860085,
          2396.1307018888,
          2350.0262860085,
          2381.0026089491
        ],
        [
          1704182400000,
          2391.5330822764,
          2391.5330822764,
          2377.2426256788,
          2377.2426256788
        ],
        [
          1704196800000,
          2385.9582730402,
          2434.4472747134,
          2385.9582730402,
          2401.2267191486
        ],
        [
          1704211200000,
          2394.3317106767,
          2397.5401873244,
          2373.4555069987,
          2373.4555069987
        ],
        [
          1704225600000,
          2357.6915867376,
          2368.3236468379,
          2356.9939435363,
          2366.3672860529
        ],
        [
          1704240000000,
          2365.5645182736,
          2367.311067935,
          2360.3507044467,
          2360.3507044467
        ],
        [
          1704254400000,
          2356.1634730672,
          2372.9647204996,
          2356.1634730672,
          2370.9224284666
        ],
        [
          1704268800000,
          2370.3207364425,
          2380.7189886097,
          2367.3344235902,
          2380.7189886097
        ],
        [
          1704283200000,
          2363.3886532204,
          2375.8069782438,
          2363.3886532204,
          2368.0627005335
        ],
        [
          1704297600000,
          2303.2108361447,
          2303.2108361447,
          2196.0907510225,
          2196.0907510225
        ],
        [
          1704312000000,
          2243.8998300497,
          2243.8998300497,
          2187.288658,
          2187.288658
        ],
        [
          1704326400000,
          2205.5284143093,
          2224.6145812568,
          2205.5284143093,
          2211.5279772228
        ],
        [
          1704340800000,
          2211.1708278639,
          2234.3416258246,
          2207.5476999046,
          2234.3416258246
        ],
        [
          1704355200000,
          2230.7007025996,
          2239.5779790904,
          2230.7007025996,
          2238.8910548619
        ],
        [
          1704369600000,
          2220.8139971616,
          2227.0923318972,
          2217.4992964541,
          2223.753460024
        ],
        [
          1704384000000,
          2228.5983948328,
          2262.4705764581,
          2228.5983948328,
          2262.4705764581
        ],
        [
          1704398400000,
          2277.9019519594,
          2280.6834345163,
          2270.8280579313,
          2277.0084739834
        ],
        [
          1704412800000,
          2277.0309615281,
          2277.0309615281,
          2271.785146415,
          2271.785146415
        ],
        [
          1704427200000,
          2269.9165540678,
          2270.8380742152,
          2238.4095357609,
          2244.1721619287
        ],
        [
          1704441600000,
          2244.5557342379,
          2256.1781968879,
          2244.5557342379,
          2256.1781968879
        ],
        [
          1704456000000,
          2255.3252581899,
          2265.2954656288,
          2241.9629983065,
          2241.9629983065
        ],
        [
          1704470400000,
          2242.6787022355,
          2249.174787873,
          2233.9590511497,
          2233.9590511497
        ],
        [
          1704484800000,
          2222.9863050564,
          2235.9168814126,
          2217.2753651405,
          2235.9168814126
        ],
        [
          1704499200000,
          2237.5473525325,
          2248.2817907721,
          2237.5473525325,
          2247.7737459944
        ],
        [
          1704513600000,
          2266.7776290853,
          2266.7776290853,
          2257.6633024447,
          2257.6633024447
        ],
        [
          1704528000000,
          2254.2664249198,
          2254.2664249198,
          2220.1514590687,
          2220.1514590687
        ],
        [
          1704542400000,
          2234.1766040062,
          2237.1066229285,
          2234.1766040062,
          2236.548163545
        ],
        [
          1704556800000,
          2237.6255841059,
          2242.0016442909,
          2233.022681662,
          2242.0016442909
        ],
        [
          1704571200000,
          2247.093279233,
          2251.2147379059,
          2246.2692194547,
          2250.8246315018
        ],
        [
          1704585600000,
          2246.4491668037,
          2246.4491668037,
          2237.4137128405,
          2237.4137128405
        ],
        [
          1704600000000,
          2242.8217569641,
          2250.4797250858,
          2242.3854458501,
          2242.3854458501
        ],
        [
          1704614400000,
          2242.7143053865,
          2250.3391987554,
          2242.7143053865,
          2250.3391987554
        ],
        [
          1704628800000,
          2248.9019013326,
          2248.9019013326,
          2235.828134693,
          2238.6119521601
        ],
        [
          1704643200000,
          2238.7503260697,
          2252.8924963756,
          2238.7503260697,
          2249.1288440301
        ],
        [
          1704657600000,
          2231.0170358216,
          2243.9626707076,
          2225.4428158448,
          2243.9626707076
        ],
        [
          1704672000000,
          2249.3097382324,
          2249.3097382324,
          2218.569000846,
          2218.569000846
        ],
        [
          1704686400000,
          2222.9723704959,
          2222.9723704959,
          2184.620691533,
          2184.620691533
        ],
        [
          1704700800000,
          2190.4224858124,
          2214.4583951673,
          2190.4224858124,
          2214.4583951673
        ],
        [
          1704715200000,
          2226.9367639168,
          2229.3670239169,
          2206.8218181793,
          2229.3670239169
        ],
        [
          1704729600000,
          2239.4417001507,
          2268.6117679611,
          2239.4417001507,
          2261.6968782416
        ],
        [
          1704744000000,
          2275.2280342805,
          2340.3458360328,
          2267.354618826,
          2340.3458360328
        ],
        [
          1704758400000,
          2354.1768553551,
          2354.1768553551,
          2337.460981803,
          2337.460981803
        ],
        [
          1704772800000,
          2333.5855494577,
          2333.5855494577,
          2309.0130952566,
          2314.6731934929
        ],
        [
          1704787200000,
          2313.5436683029,
          2316.2101571315,
          2303.6334245403,
          2303.6334245403
        ],
        [
          1704801600000,
          2306.6134111091,
          2306.6134111091,
          2292.4428156293,
          2292.4428156293
        ],
        [
          1704816000000,
          2297.5287479885,
          2297.5287479885,
          2251.8806688104,
          2251.8806688104
        ],
        [
          1704830400000,
          2261.026126256,
          2275.1295904248,
          2261.026126256,
          2275.1295904248
        ],
        [
          1704844800000,
          2268.7138966102,
          2345.1046762514,
          2247.7994887739,
          2345.1046762514
        ],
        [
          1704859200000,
          2344.8384843285,
          2391.5085781908,
          2344.8384843285,
          2345.0772827862
        ],
        [
          1704873600000,
          2363.6044451206,
          2387.1989730119,
          2363.6044451206,
          2379.7932650113
        ],
        [
          1704888000000,
          2370.038883405,
          2419.7995908637,
          2357.4158585392,
          2403.8288432069
        ],
        [
          1704902400000,
          2399.1459451991,
          2399.1459451991,
          2355.7897725847,
          2384.3718014914
        ],
        [
          1704916800000,
          2448.615348069,
          2448.615348069,
          2411.3705169969,
          2435.9896662449
        ],
        [
          1704931200000,
          2478.808343607,
          2550.2057138569,
          2478.808343607,
          2550.2057138569
        ],
        [
          1704945600000,
          2588.7691639191,
          2605.2642928936,
          2570.5215746057,
          2583.9216111851
        ],
        [
          1704960000000,
          2603.3582780853,
          2614.206657862,
          2578.3331241146,
          2578.3331241146
        ],
        [
          1704974400000,
          2589.0299943723,
          2637.4598388771,
          2589.0299943723,
          2637.4598388771
        ],
        [
          1704988800000,
          2660.8127566598,
          2671.0952338616,
          2639.2528249457,
          2671.0952338616
        ],
        [
          1705003200000,
          2609.9114132647,
          2614.2981931672,
          2584.9145714893,
          2614.2981931672
        ],
        [
          1705017600000,
          2620.9115333422,
          2620.9115333422,
          2583.9337261891,
          2616.3776169119
        ],
        [
          1705032000000,
          2619.0331001931,
          2619.0331001931,
          2593.4882360059,
          2606.7850298097
        ],
        [
          1705046400000,
          2594.2893748693,
          2616.8882986812,
          2591.9440814077,
          2616.8882986812
        ],
        [
          1705060800000,
          2597.38498251,
          2621.2198153953,
          2597.38498251,
          2621.2198153953
        ],
        [
          1705075200000,
          2646.8765818322,
          2698.4293169119,
          2646.8765818322,
          2698.4293169119
        ],
        [
          1705089600000,
          2646.461879217,
          2646.461879217,
          2589.4318848766,
          2597.5592540141
        ],
        [
          1705104000000,
          2581.9710381321,
          2581.9710381321,
          2501.539765287,
          2501.539765287
        ],
        [
          1705118400000,
          2521.9387886115,
          2549.4605630314,
          2519.3486774072,
          2549.4605630314
        ],
        [
          1705132800000,
          2548.1434762427,
          2552.4655629206,
          2545.4404047457,
          2552.1144558266
        ],
        [
          1705147200000,
          2551.7710166159,
          2559.8555692095,
          2533.9406119864,
          2533.9406119864
        ],
        [
          1705161600000,
          2544.4585146665,
          2546.0159841052,
          2536.7346286722,
          2536.7346286722
        ],
        [
          1705176000000,
          2558.6692638859,
          2562.1540846874,
          2555.9728561903,
          2562.1540846874
        ],
        [
          1705190400000,
          2571.3308829769,
          2575.1703751206,
          2571.3308829769,
          2575.1703751206
        ],
        [
          1705204800000,
          2577.5308138753,
          2577.5308138753,
          2561.7000308902,
          2561.7000308902
        ],
        [
          1705219200000,
          2550.7426016799,
          2554.1399243587,
          2543.6258818292,
          2554.1399243587
        ],
        [
          1705233600000,
          2547.981073329,
          2552.2782124911,
          2540.8093709081,
          2540.8093709081
        ],
        [
          1705248000000,
          2537.2098200429,
          2537.7266409091,
          2537.0644202248,
          2537.7266409091
        ],
        [
          1705262400000,
          2539.1896899838,
          2539.1896899838,
          2525.2913276383,
          2531.011550443
        ],
        [
          1705276800000,
          2500.9253879903,
          2521.6844904158,
          2500.9253879903,
          2508.9335597024
        ],
        [
          1705291200000,
          2475.119189402,
          2503.5364438348,
          2475.119189402,
          2502.2516056487
        ],
        [
          1705305600000,
          2503.0336895271,
          2520.2688005904,
          2503.0336895271,
          2511.7903705063
        ],
        [
          1705320000000,
          2513.0283311119,
          2529.7230885375,
          2512.8603179739,
          2529.7230885375
        ],
        [
          1705334400000,
          2540.8311325173,
          2542.9171148494,
          2511.2419369552,
          2511.2419369552
        ],
        [
          1705348800000,
          2515.8450551255,
          2536.2899272694,
          2515.8450551255,
          2536.2899272694
        ],
        [
          1705363200000,
          2537.8733500833,
          2537.8733500833,
          2511.0931307517,
          2511.0931307517
        ],
        [
          1705377600000,
          2515.3199803937,
          2518.1775045363,
          2505.8925356922,
          2518.1775045363
        ],
        [
          1705392000000,
          2533.6135697792,
          2533.6135697792,
          2528.5735301015,
          2531.1095788301
        ],
        [
          1705406400000,
          2529.1465488654,
          2542.7759989226,
          2529.1465488654,
          2533.5606302274
        ],
        [
          1705420800000,
          2528.1793592572,
          2546.4896630883,
          2525.6637523927,
          2530.9260615787
        ],
        [
          1705435200000,
          2561.2877831078,
          2571.1526286984,
          2558.9541886314,
          2558.9541886314
        ],
        [
          1705449600000,
          2573.4780280156,
          2605.3897921399,
          2573.4780280156,
          2593.9310705643
        ],
        [
          1705464000000,
          2588.7652712304,
          2588.7652712304,
          2575.9108779788,
          2575.9108779788
        ],
        [
          1705478400000,
          2570.0971210351,
          2570.0971210351,
          2562.7158690867,
          2562.7158690867
        ],
        [
          1705492800000,
          2555.1470325448,
          2555.1470325448,
          2541.2175628531,
          2549.7332209172
        ],
        [
          1705507200000,
          2540.454860156,
          2558.5703737441,
          2540.454860156,
          2558.5703737441
        ],
        [
          1705521600000,
          2536.777074254,
          2536.777074254,
          2530.6520935135,
          2530.6520935135
        ],
        [
          1705536000000,
          2534.7905616967,
          2534.7905616967,
          2524.2606909726,
          2528.1962621685
        ],
        [
          1705550400000,
          2529.585047622,
          2529.585047622,
          2520.3962603966,
          2524.7698699648
        ],
        [
          1705564800000,
          2527.8193948305,
          2529.3069789455,
          2527.8193948305,
          2529.3069789455
        ],
        [
          1705579200000,
          2535.2030280378,
          2535.6184790259,
          2514.8315792615,
          2514.8315792615
        ],
        [
          1705593600000,
          2518.0563875537,
          2531.0883709235,
          2507.8685355062,
          2531.0883709235
        ],
        [
          1705608000000,
          2525.6438568868,
          2525.6438568868,
          2463.2884676813,
          2463.2884676813
        ],
        [
          1705622400000,
          2428.7795689064,
          2472.0605887185,
          2428.7795689064,
          2472.0605887185
        ],
        [
          1705636800000,
          2467.5277897669,
          2467.5277897669,
          2453.3634883707,
          2453.3634883707
        ],
        [
          1705651200000,
          2459.5507573896,
          2473.8405616622,
          2458.6199565304,
          2473.8405616622
        ],
        [
          1705665600000,
          2463.1838754329,
          2488.2523651842,
          2463.1838754329,
          2488.2523651842
        ],
        [
          1705680000000,
          2489.5019324802,
          2494.103568786,
          2475.5173174427,
          2475.5173174427
        ],
        [
          1705694400000,
          2463.1696534053,
          2493.4515773331,
          2427.2338523164,
          2493.4515773331
        ],
        [
          1705708800000,
          2490.2819866518,
          2490.2819866518,
          2478.4509829981,
          2488.412478929
        ],
        [
          1705723200000,
          2490.6457726081,
          2490.6457726081,
          2476.8490271893,
          2483.5498701538
        ],
        [
          1705737600000,
          2480.741022871,
          2480.741022871,
          2477.4254693747,
          2480.4976916333
        ],
        [
          1705752000000,
          2477.2618802255,
          2477.2618802255,
          2463.5863670812,
          2467.1935378352
        ],
        [
          1705766400000,
          2469.5055346648,
          2469.9189291078,
          2464.6295244389,
          2464.6295244389
        ],
        [
          1705780800000,
          2462.7178255546,
          2463.6576405034,
          2455.8583048285,
          2455.8583048285
        ],
        [
          1705795200000,
          2458.8801757799,
          2471.189951184,
          2458.8801757799,
          2471.189951184
        ],
        [
          1705809600000,
          2470.2636151037,
          2474.5016451912,
          2463.9552051853,
          2474.5016451912
        ],
        [
          1705824000000,
          2473.4855832304,
          2473.4855832304,
          2468.0877086632,
          2468.0877086632
        ],
        [
          1705838400000,
          2472.3119103911,
          2479.3105734981,
          2471.7421959172,
          2479.3105734981
        ],
        [
          1705852800000,
          2471.8424677494,
          2479.2973019628,
          2470.2436276943,
          2476.3670583115
        ],
        [
          1705867200000,
          2467.3844503847,
          2473.8011442969,
          2467.3844503847,
          2473.2245213807
        ],
        [
          1705881600000,
          2472.3559436972,
          2472.4486789895,
          2459.8894246463,
          2459.8894246463
        ],
        [
          1705896000000,
          2453.8473709584,
          2459.4839107296,
          2436.2724816796,
          2436.2724816796
        ],
        [
          1705910400000,
          2435.5377580355,
          2435.5377580355,
          2412.7923695203,
          2429.9235244943
        ],
        [
          1705924800000,
          2421.1023049996,
          2421.1023049996,
          2375.5484567066,
          2375.5484567066
        ],
        [
          1705939200000,
          2386.3302085051,
          2386.3302085051,
          2368.9471397619,
          2368.9471397619
        ],
        [
          1705953600000,
          2376.1240621081,
          2376.1240621081,
          2364.5643907968,
          2367.9261926905
        ],
        [
          1705968000000,
          2320.5421941729,
          2337.8554471125,
          2317.6710773008,
          2317.6710773008
        ],
        [
          1705982400000,
          2311.9628444559,
          2336.3372930278,
          2311.9628444559,
          2336.3372930278
        ],
        [
          1705996800000,
          2336.777293802,
          2346.1926384087,
          2336.777293802,
          2344.400884708
        ],
        [
          1706011200000,
          2319.9793006773,
          2319.9793006773,
          2222.2160563236,
          2222.2160563236
        ],
        [
          1706025600000,
          2212.7392442667,
          2223.1757867197,
          2186.3490649869,
          2191.0950902158
        ],
        [
          1706040000000,
          2213.6230023191,
          2213.6230023191,
          2198.2614000363,
          2198.2614000363
        ],
        [
          1706054400000,
          2186.7701875459,
          2224.0839158003,
          2186.7701875459,
          2224.0839158003
        ],
        [
          1706068800000,
          2241.9427761553,
          2247.5094091136,
          2220.6417319065,
          2221.7724474647
        ],
        [
          1706083200000,
          2212.1270902727,
          2230.7215769503,
          2212.1270902727,
          2230.7215769503
        ],
        [
          1706097600000,
          2233.7595818021,
          2256.9147823217,
          2233.7595818021,
          2256.9147823217
        ],
        [
          1706112000000,
          2242.6643317171,
          2242.6643317171,
          2223.8704906359,
          2223.8704906359
        ],
        [
          1706126400000,
          2234.4186380758,
          2243.88878692,
          2213.8979675287,
          2213.8979675287
        ],
        [
          1706140800000,
          2215.1571687957,
          2221.5823261327,
          2197.5280473331,
          2221.5823261327
        ],
        [
          1706155200000,
          2233.0811088766,
          2233.1167513989,
          2207.0370039539,
          2207.0370039539
        ],
        [
          1706169600000,
          2215.290745537,
          2224.3278367069,
          2209.7794154514,
          2224.3278367069
        ],
        [
          1706184000000,
          2225.5204573084,
          2237.7611374391,
          2221.0399616554,
          2237.7611374391
        ],
        [
          1706198400000,
          2229.7707912899,
          2229.7707912899,
          2206.2289047084,
          2208.7514946138
        ],
        [
          1706212800000,
          2186.2367880233,
          2209.8412989191,
          2186.2367880233,
          2209.8412989191
        ],
        [
          1706227200000,
          2218.6701274544,
          2220.7500588325,
          2215.3082487134,
          2220.7500588325
        ],
        [
          1706241600000,
          2217.3460805977,
          2226.5457861842,
          2213.7429372286,
          2226.5457861842
        ],
        [
          1706256000000,
          2220.9253188028,
          2223.874208167,
          2211.8390208209,
          2211.8390208209
        ],
        [
          1706270400000,
          2197.6161037939,
          2234.6075811879,
          2197.6161037939,
          2234.6075811879
        ],
        [
          1706284800000,
          2255.6199506428,
          2255.6199506428,
          2239.8372221374,
          2254.8186730721
        ],
        [
          1706299200000,
          2260.9281622612,
          2276.9646981754,
          2260.9281622612,
          2263.6902030236
        ],
        [
          1706313600000,
          2257.5047594887,
          2266.1983532954,
          2256.7272812966,
          2266.1983532954
        ],
        [
          1706328000000,
          2267.2717070789,
          2279.1238722011,
          2267.2717070789,
          2275.0513279089
        ],
        [
          1706342400000,
          2273.7384465996,
          2273.7919680516,
          2263.0155938283,
          2264.8093771423
        ],
        [
          1706356800000,
          2256.4616797239,
          2265.3673963926,
          2249.9265699824,
          2263.6958915844
        ],
        [
          1706371200000,
          2265.7188803331,
          2268.9177691871,
          2263.2309326184,
          2268.9177691871
        ],
        [
          1706385600000,
          2268.9905997553,
          2268.9905997553,
          2264.8477812811,
          2267.6096308551
        ],
        [
          1706400000000,
          2272.9433474135,
          2272.9433474135,
          2265.5475597818,
          2265.5475597818
        ],
        [
          1706414400000,
          2267.9078517525,
          2279.0652174774,
          2266.0667585347,
          2279.0652174774
        ],
        [
          1706428800000,
          2287.6324180302,
          2298.7900832749,
          2287.6324180302,
          2288.4519938045
        ],
        [
          1706443200000,
          2283.7004809304,
          2295.2377166804,
          2283.7004809304,
          2293.1067512867
        ],
        [
          1706457600000,
          2280.8938542495,
          2280.8938542495,
          2266.6399375303,
          2266.6399375303
        ],
        [
          1706472000000,
          2269.0382831366,
          2274.6076120439,
          2261.1193456088,
          2261.1193456088
        ],
        [
          1706486400000,
          2251.7063950654,
          2264.1329588983,
          2251.0718973986,
          2251.0718973986
        ],
        [
          1706500800000,
          2257.0544646456,
          2267.3411366943,
          2257.0544646456,
          2267.3411366943
        ],
        [
          1706515200000,
          2271.9300619261,
          2271.9300619261,
          2263.6832756367,
          2265.9608654511
        ],
        [
          1706529600000,
          2258.6452383347,
          2272.8137343686,
          2258.6452383347,
          2272.8137343686
        ],
        [
          1706544000000,
          2261.980139771,
          2261.980139771,
          2243.259307813,
          2243.259307813
        ],
        [
          1706558400000,
          2277.1101294823,
          2293.8287370134,
          2277.1101294823,
          2293.8287370134
        ]
      ],
      tooltip: {
        valueDecimals: 2
      }
    }]
  }

  useEffect(() => {
    fetchHistoricData();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [days,props.chain]);

  return (
    <div className="" style={{background: 'white', width: '100%', maxHeight: '450px'}}>
      {/* {!historicData || flag===false ? (
        <Container className=' mx-auto justify-content-center mt-4 text-white items-center h-4/5'><span className="loading loading-infinity text-info text-4xl w-40 h-32 m-auto"></span></Container>
      ) : (
        <>
          <Line
            className="line"
            data={{
              labels: historicData?.map((coin: (string | number | Date)[]) => {
                let date = new Date(coin[0]);
                let time =
                  date.getHours() > 12
                    ? `${date.getHours() - 12}:${date.getMinutes()} PM`
                    : `${date.getHours()}:${date.getMinutes()} AM`;
                return days === 1 ? time : date.toLocaleDateString();
              }),

              datasets: [
                {
                  data: historicData?.map((coin: any[]) => coin[1]),
                  label: `Price ( Past ${days} Days ) in ${currency}`,
                  borderColor: "#75c9ff",
                  // fontSize:"10"
                },
              ],
            }}
            options={{
              maintainAspectRatio: false,
              elements: {
                point: {
                  radius: 1,
                },
              },
            }}
            style={{padding:"0px 10px"}}
          />
          <div
            style={{
              display: "flex",
              marginTop: 20,
              justifyContent: "space-around"
            }}
          >
            {chartDays.map((day, i) => (
              <button
                key={i}
                onClick={() => {setDays(day.value);
                  setflag(false);
                }}
                style={(day.value === days)?{backgroundColor:"#75c9ff",color:"black",border: "1px solid #212529"}:{backgroundColor:"#212529",border:"1px solid #75c9ff",color:"#75c9ff"}}
                className="timeBtn"
              >
                {day.label}
              </button>
            ))}
          </div>
        </>
      )} */}
      <HighchartsReact highcharts={Highcharts} constructorType={'stockChart'} options={chartOptions} />
    </div>
  );
};

export default CoinInfo;